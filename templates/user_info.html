{% extends "base.html" %}
{% block content %}


<h4> Search park by zipcode </h4>

<form id ="getInfo" method="get" action="/login.json">
	<label> Please Enter Zipcode </label>
	<input type = "text" id = "zipcode" name = "zipcode" pattern="[0-9]{5}">
	<br>
	<br>
	<input  type="submit"  value = "submit">
</form><br><br>

<div id ="result"></div>

<script src="http://code.jquery.com/jquery.js"></script>

<script type="text/javascript">
	"use strict";

let data;

function displayResult(results){
			data = results;
			$('#result').empty();
			let i=0;
			for (let result of results){
					$('#result').append(' '+result[0]+' '+result[1]+ '<pre class="tab"></pre>'+
					`<button id ="${i}" value="${result}" type ="button" onClick="displayContact(this)"> Contact Info</button>`+'<br>'+'<br>'+
						`<div id="${i}"></div>`);		


    		i++;
    		}
    	}
let displayContact= function(param){

	console.log(param.id);

	console.log($(`div#${param.id}`));

	let result = param.value;
	

	// result = result.split(',');
	// console.log(result[0]);
	// console.log(result[-1]);
	// console.log(result[-2]);
	// console.log(result[-3]);

	// let test = $(`#${result[0]}`)

	// console.log(test)

	$(`div#${param.id}`).text("hgt");

}

// result[0]+'<br>'
								// +result[-2]+'<br>'+result[-1]



	// function displayResult(results){
	// 	console.log(results);
	// 		$('#result').empty();		
	// 		let i = 1;	
	// 		for (let result of results){
	// 			$('#result').append(' '+result[0]+' '+result[1]+ '<pre class="tab"></pre>'+
	// 				`<button id ="${i}" value="${i}" type ="button"> Contact Info</button>`+'<br>'+'<br>'+
	// 					`<div id="${result[0]}"><div>`);
	// 			$('#result').on("click",`#${i}`,function(evt){
	// 						console.log(evt)
	// 						// j equal to value of button
	// 						evt.preventDefault();
	// 						$(`${result[0]}`).html(results[j-1][2]+'<br>'
	// 							+results[j-1][3]+'<br>'+results[j-1][4]);



	// 			});

	// 			i++;
	// 			console.log(i);
	// 		}
	// }
	function sendZipcode(evt){
		evt.preventDefault();
		$.get("/login.json",{"zipcode" : $('#zipcode').val()},displayResult);
	}

			$("#getInfo").on("submit", sendZipcode);

</script>


{% endblock %}